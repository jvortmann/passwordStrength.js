!function(i,f){"function"===typeof define&&"object"===typeof define.amd?define(f):this[i]=f()}("passwordStrength",function(){var i=function(){var b=function(a,b,h){var c=0,e;for(e=0;e<a.length;e+=1)b.test(a[e])&&(c+=h);return c},c=function(a,c,h){c=b(a,c,h);return 0===c?0:2*(a.length-c)};return{limits:[{message:"None",status:"none",limit:0},{message:"Weak",status:"weak",limit:1},{message:"Good",status:"good",limit:29},{message:"Strong",status:"strong",limit:59},{message:"Very Strong",status:"very_strong",
limit:89}],rateRequirements:[function(a){return 4*a.length},function(a){return b(a,/\d/,4)},function(a){return c(a,/[a-z]/,1)},function(a){return c(a,/[A-Z]/,1)},function(a){return b(a,/\W/,6)}],validationRequirements:[{message:"Too short",status:"too_short",valid:function(a){return 8<a.length}}]}}(),f=function(b){var c=b.limits.reverse(function(a,c){return a.limit-c.limit}),a=function(a,c){var b=document.createElement("span");b.className="score";b.innerHTML=a;b.classList.add(c);return b},d=function(a,
c){var b=a.getElementsByClassName("password_strength")[0],d=b.getElementsByClassName("score")[0];b.removeChild(d);b.appendChild(c)};return{lowestStatus:function(){return a(c[c.length-1].message,c[c.length-1].status)},show:function(a){a.getElementsByClassName("score")[0].classList.remove("hidden")},hide:function(a){a.getElementsByClassName("score")[0].classList.add("hidden")},update:function(b,g,e){if(g.status)for(var f,g=0;g<c.length;g+=1){if(f=c[g],e>=f.limit){d(b,a(f.message,f.status));break}}else e=
g.validation,e=a(e.message,e.status,"invalid"),e.classList.add("invalid"),d(b,e)}}},j=function(b){return{calculate:function(c){var a=0,d;for(d=0;d<b.rateRequirements.length;d+=1)a+=b.rateRequirements[d](c);return a}}},k=function(b){return{test:function(c){var a;for(a=0;a<b.validationRequirements.length;a+=1)if(!b.validationRequirements[a].valid(c))return{status:!1,validation:b.validationRequirements[a]};return{status:!0}}}},l=function(b){return{passwordStrength:function(){var c=b.lowestStatus();c.classList.add("hidden");
var a=document.createElement("div");a.className="password_strength";a.appendChild(c);return a}}},m=function(b){var c=function(a,b,c,g){g=g.test(a.value);c=c.calculate(a.value);b.update(a.parentNode,g,c)};return{addWrapperToParent:function(a){b.parentNode.appendChild(l(a).passwordStrength())},registerEvents:function(a,d,f){b.addEventListener("focusin",function(){a.show(b.parentNode);c(b,a,d,f)});b.addEventListener("focusout",function(){a.hide(b.parentNode)});b.addEventListener("input",function(){c(b,
a,d,f)})}}};return function(b,c){var a=c||i,d=f(a),h=m(b);h.addWrapperToParent(d);h.registerEvents(d,j(a),k(a))}});
