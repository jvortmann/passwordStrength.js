!function(k,f){"function"===typeof define&&"object"===typeof define.amd?define(f):this[k]=f()}("passwordStrength",function(){var k=function(b){var a=b.limits.slice().reverse(function(a,c){return a.limit-c.limit}),c=function(a,c,b){var d=document.createElement("div"),e=document.createElement("span");e.className="message";e.innerHTML=a;d.appendChild(e);a=document.createElement("div");a.className="bar";e=document.createElement("span");e.className="meter";var i,g="";for(i=0;i<b;i+=1)g=g.concat("-");e.innerHTML=
g;i=document.createElement("span");i.className="score";i.innerHTML=b;a.appendChild(i);a.appendChild(e);b=a;a=document.createElement("div");a.id="password_strength";a.classList.add(c);a.appendChild(d);a.appendChild(b);return a},d=function(){return c(a[a.length-1].message,a[a.length-1].status,0)},g=function(a){document.getElementById("password_strength").parentNode.replaceChild(a,document.getElementById("password_strength"))};return{defaultWrapper:d,show:function(){document.getElementById("password_strength").classList.remove("hidden")},
hide:function(){document.getElementById("password_strength").classList.add("hidden")},update:function(b,f){if(b.status){var h;a:{var j,e;for(j=0;j<a.length;j+=1)if(e=a[j],f>e.limit){g(c(e.message,e.status,f));h=void 0;break a}g(d())}return h}h=b.validation;h=c(h.message,h.status,0);h.classList.add("invalid");g(h)}}},f=function(b){return{calculate:function(a){var c=0,d;for(d=0;d<b.rates.length;d+=1)c+=b.rates[d](a);return c}}},l=function(b){return{test:function(a){var c;for(c=0;c<b.validations.length;c+=
1)if(!b.validations[c].valid(a))return{status:!1,validation:b.validations[c]};return{status:!0}}}},m=function(b){return{addWrapperToParent:function(a){a=a.defaultWrapper();a.classList.add("hidden");b.parentNode.appendChild(a)},registerEvents:function(a,c,d){b.addEventListener("focus",function(){a.show();var g=d.test(b.value),f=c.calculate(b.value);a.update(g,f)});b.addEventListener("blur",function(){a.hide()});b.addEventListener("input",function(){var g=d.test(b.value),f=c.calculate(b.value);a.update(g,
f)})}}};return function(b,a){var c=k(a),d=m(b);d.addWrapperToParent(c);d.registerEvents(c,f(a),l(a))}});
