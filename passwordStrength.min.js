!function(l,f){"function"===typeof define&&"object"===typeof define.amd?define(f):this[l]=f()}("passwordStrength",function(){var l=function(){var c=function(a,b,c){var m=0,i;for(i=0;i<a.length;i+=1)b.test(a[i])&&(m+=c);return m},b=function(a,b,d){b=c(a,b,d);return 0===b?0:2*(a.length-b)};return{limits:[{message:"None",status:"none",limit:0},{message:"Weak",status:"weak",limit:0.9},{message:"Good",status:"good",limit:30},{message:"Strong",status:"strong",limit:60},{message:"Very Strong",status:"very_strong",
limit:90}],rates:[function(a){return 4*a.length},function(a){return c(a,/\d/,4)},function(a){return b(a,/[a-z]/,1)},function(a){return b(a,/[A-Z]/,1)},function(a){return c(a,/\W/,6)}],validations:[{message:"Too short",status:"too_short",valid:function(a){return 4<a.length}}]}}(),f=function(c){var b=c.limits.reverse(function(a,b){return a.limit-b.limit}),a=function(a,b,c){var e=document.createElement("div");e.className="message";var d=document.createElement("span");d.innerHTML=a;e.appendChild(d);a=
document.createElement("div");a.className="bar";d=document.createElement("span");d.className="meter";var h,f="";for(h=0;h<c;h+=1)f=f.concat("-");d.innerHTML=f;h=document.createElement("span");h.className="score";h.innerHTML=c;a.appendChild(h);a.appendChild(d);c=a;a=document.createElement("div");a.id="password_strength";a.classList.add(b);a.appendChild(e);a.appendChild(c);return a},e=function(){return a(b[b.length-1].message,b[b.length-1].status,0)},d=function(a){document.getElementById("password_strength").parentNode.replaceChild(a,
document.getElementById("password_strength"))};return{defaultWrapper:e,show:function(){document.getElementById("password_strength").classList.remove("hidden")},hide:function(){document.getElementById("password_strength").classList.add("hidden")},update:function(c,f){if(c.status){var g;a:{var j,k;for(j=0;j<b.length;j+=1)if(k=b[j],f>k.limit){d(a(k.message,k.status,f));g=void 0;break a}d(e())}return g}g=c.validation;g=a(g.message,g.status,0);g.classList.add("invalid");d(g)}}},n=function(c){return{calculate:function(b){var a=
0,e;for(e=0;e<c.rates.length;e+=1)a+=c.rates[e](b);return a}}},o=function(c){return{test:function(b){var a;for(a=0;a<c.validations.length;a+=1)if(!c.validations[a].valid(b))return{status:!1,validation:c.validations[a]};return{status:!0}}}},p=function(c){return{addWrapperToParent:function(b){b=b.defaultWrapper();b.classList.add("hidden");c.parentNode.appendChild(b)},registerEvents:function(b,a,e){c.addEventListener("focusin",function(){b.show();var d=e.test(c.value),f=a.calculate(c.value);b.update(d,
f)});c.addEventListener("focusout",function(){b.hide()});c.addEventListener("input",function(){var d=e.test(c.value),f=a.calculate(c.value);b.update(d,f)})}}};return function(c,b){var a=b||l,e=f(a),d=p(c);d.addWrapperToParent(e);d.registerEvents(e,n(a),o(a))}});
