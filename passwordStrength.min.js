!function(k,e){"function"===typeof define&&"object"===typeof define.amd?define(e):this[k]=e()}("passwordStrength",function(){var k=function(){var b=function(a,d,b){var l=0,c;for(c=0;c<a.length;c+=1)d.test(a[c])&&(l+=b);return l},c=function(a,d,c){d=b(a,d,c);return 0===d?0:2*(a.length-d)};return{limits:[{message:"None",status:"none",limit:0},{message:"Weak",status:"weak",limit:0.9},{message:"Good",status:"good",limit:30},{message:"Strong",status:"strong",limit:60},{message:"Very Strong",status:"very_strong",
limit:90}],rates:[function(a){return 4*a.length},function(a){return b(a,/\d/,4)},function(a){return c(a,/[a-z]/,1)},function(a){return c(a,/[A-Z]/,1)},function(a){return b(a,/\W/,6)}],validations:[{message:"Too short",status:"too_short",valid:function(a){return 4<a.length}}]}}(),e=function(b){var c=b.limits.reverse(function(a,d){return a.limit-d.limit}),a=function(a,d,c){var b=document.createElement("div");b.className="message";var f=document.createElement("span");f.innerHTML=a;b.appendChild(f);a=
document.createElement("div");a.className="bar";f=document.createElement("span");f.className="meter";var h,e="";for(h=0;h<c;h+=1)e=e.concat("-");f.innerHTML=e;h=document.createElement("span");h.className="score";h.innerHTML=c;a.appendChild(h);a.appendChild(f);c=a;a=document.createElement("div");a.id="password_strength";a.classList.add(d);a.appendChild(b);a.appendChild(c);return a},d=function(){return a(c[c.length-1].message,c[c.length-1].status,0)},f=function(a){document.getElementById("password_strength").parentNode.replaceChild(a,
document.getElementById("password_strength"))};return{defaultWrapper:d,show:function(){document.getElementById("password_strength").classList.remove("hidden")},hide:function(){document.getElementById("password_strength").classList.add("hidden")},update:function(b,e){if(b.status){var g;a:{var i,j;for(i=0;i<c.length;i+=1)if(j=c[i],e>j.limit){f(a(j.message,j.status,e));g=void 0;break a}f(d())}return g}g=b.validation;g=a(g.message,g.status,0);g.classList.add("invalid");f(g)}}},m=function(b){return{calculate:function(c){var a=
0,d;for(d=0;d<b.rates.length;d+=1)a+=b.rates[d](c);return a}}},n=function(b){return{test:function(c){var a;for(a=0;a<b.validations.length;a+=1)if(!b.validations[a].valid(c))return{status:!1,validation:b.validations[a]};return{status:!0}}}},o=function(b){var c=function(a,b,c,e){e=e.test(a.value);a=c.calculate(a.value);b.update(e,a)},a=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)};return{addWrapperToParent:function(a){a=a.defaultWrapper();a.classList.add("hidden");
b.parentNode.appendChild(a)},registerEvents:function(d,f,e){a(b,"focus",function(){d.show();c(b,d,f,e)});a(b,"blur",function(){d.hide()});a(b,"input",function(){c(b,d,f,e)});a(b,"propertychange",function(){c(b,d,f,e)})}}};return function(b,c){var a=c||k,d=e(a),f=o(b);f.addWrapperToParent(d);f.registerEvents(d,m(a),n(a))}});
